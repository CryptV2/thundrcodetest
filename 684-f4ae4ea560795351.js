"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[684],{8186:function(e,t,r){r.d(t,{Q:function(){return i}});var n=r(7294),o=r(1318);let i=e=>{let t=(0,n.useRef)(null),r=(0,n.useRef)({}),i=(0,n.useRef)({}),{getSettings:l}=(0,o.r)(),s=(0,n.useCallback)(()=>{Object.values(i.current).forEach(e=>{e.stop&&e.stop()}),i.current={},t.current&&"closed"!==t.current.state&&t.current.close(),t.current=null,r.current={}},[]);(0,n.useEffect)(()=>(t.current||(t.current=new(window.AudioContext||window.webkitAudioContext)),(async e=>{if(!t.current){console.warn("AudioContext is not initialized. Preloading audio is skipped.");return}let n=e=>new Promise((r,n)=>{t.current.decodeAudioData(e,r,n)});for(let t of e)if(!r.current[t])try{let e=await fetch(t),o=await e.arrayBuffer();r.current[t]=await n(o)}catch(e){console.error("Error preloading audio ".concat(t,":"),e)}})(e),s),[e,s]);let a=(0,n.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=l().volume.master;if(!t.current){console.warn("AudioContext is not initialized. Cannot play sound.");return}let a=r=>{i.current[e]&&i.current[e].stop();let l=t.current.createBufferSource();l.buffer=r,l.loop=o;let a=t.current.createGain();a.gain.value=parseFloat(s/100)*n,l.connect(a),a.connect(t.current.destination),l.start(0),i.current[e]=l,l.onended=()=>{l.loop||delete i.current[e]}},c=r.current[e];c?a(c):(console.warn("Sound not found in cache:",e),fetch(e).then(e=>e.arrayBuffer()).then(e=>t.current.decodeAudioData(e)).then(t=>{r.current[e]=t,a(t)}).catch(e=>{console.error("Error loading audio:",e)}))},[l]),c=(0,n.useCallback)(e=>{i.current[e]&&(i.current[e].stop(),delete i.current[e])},[]),u=(0,n.useCallback)(()=>{Object.keys(i.current).forEach(c)},[c]);return{playSound:a,stopSound:c,stopAllSounds:u}}},1318:function(e,t,r){r.d(t,{r:function(){return l}});var n=r(7294);let o={volume:{master:100},autoRoll:{video:!0,text:!1},interests:{wait:3},autoMod:{strictness:50}},i=()=>{{let e=localStorage.getItem("settings");return e?JSON.parse(e):o}},l=()=>{let[e,t]=(0,n.useState)(i());return(0,n.useEffect)(()=>{localStorage.setItem("settings",JSON.stringify(e))},[e]),{settings:e,getSettings:i,setSettings:t,defaultSettings:o}}},6069:function(e,t,r){r.d(t,{j:function(){return n}});let n=()=>({currentBoost:()=>{let e=JSON.parse(localStorage.getItem("BoostTokens"))||[],t=Date.now(),r=e.filter(e=>e.expires>t);return r.length>0?r[0]:null},activeBoosts:()=>{let e=JSON.parse(localStorage.getItem("BoostTokens"))||[],t=Date.now();return e.filter(e=>e.expires>t)},allBoosts:()=>JSON.parse(localStorage.getItem("BoostTokens"))||[],saveBoost:e=>{let t=JSON.parse(localStorage.getItem("BoostTokens"))||[];t.some(t=>t.id===e.id)||(t.push(e),localStorage.setItem("BoostTokens",JSON.stringify(t)))},boostLifetime:30})},550:function(e,t,r){r.d(t,{a:function(){return i}});var n=()=>{let e=localStorage.getItem("fingerprint");return e||(e=crypto.randomUUID(),localStorage.setItem("fingerprint",e)),e},o=r(1790);let i=()=>{let e="user_data",{getVideoMetadata:t}=(0,o.x)(),r=()=>{{let r=JSON.parse(localStorage.getItem(e))||null;if(r&&r.onboarded)return{...r,videoMetadata:t()}}return null};return{getUser:r,createUser:t=>{localStorage.setItem(e,JSON.stringify({...t,created_at:Date.now(),id:n(),interests:[]}))},updateUser:t=>{let n=r();localStorage.setItem(e,JSON.stringify({...n,...t}))}}}},3434:function(e,t,r){r.d(t,{DD:function(){return d}});let n="omegle,uhmegle,.fm,emeraldchat,monkey.app.monkey.cool,jollyjerk".split(","),o="porn,alternative,best,thebest,omegle,uhmegle,child,kids".split(","),i="bangcum.com,Omegle.luxe,JollyJerk.com.omegle.fm".split(","),l=e=>e.toLowerCase().replace(/\s+/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,""),s=e=>{let t=l(e);return n.some(e=>t.includes(e))},a=e=>{let t=l(e);return o.some(e=>t.includes(e))},c=e=>{let t=l(e);return i.some(e=>t.includes(e))},u=e=>{let t="com|org|net|int|edu|gov|mil|co|io|info|biz|me|online|xyz|site|tech|store|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw";return RegExp("\\b[\\w\\-\\.]+\\.(".concat(t,")\\b|dot (").concat(t,")\\b"),"gi").test(e)},d=e=>({link:u(e),bannedWord:s(e),bannedVideoWord:a(e),bannedDomain:c(e)})},1790:function(e,t,r){r.d(t,{x:function(){return n}});let n=()=>{let e="VideoMetadata2",t=()=>JSON.parse(localStorage.getItem(e))||{faces:0,nsfw:!1,nsfwData:[{className:"Neutral",probability:0},{className:"Sexy",probability:0},{className:"Porn",probability:0},{className:"Drawing",probability:0},{className:"Hentai",probability:0}]};return{getVideoMetadata:t,setVideoMetadata:r=>{let n=t();localStorage.setItem(e,JSON.stringify({...n,...r}))}}}},4531:function(e,t,r){r.r(t);var n=r(5893),o=r(7294),i=r(7747),l=r(4e3),s=r(4225),a=r(9289),c=r(967),u=r(5541),d=r(9778),x=r(5239),m=r(4859),f=r(6205),h=r(4346),g=r(4253),p=r(4295);let b=()=>(0,n.jsxs)(i.xu,{children:[(0,n.jsx)(l.x,{textAlign:"center",fontWeight:"500",fontSize:"21",children:(0,n.jsx)("b",{style:{background:"linear-gradient(45deg, gold, #ff9d00)",color:"transparent",WebkitBackgroundClip:"text",backgroundClip:"text"},children:"Boost Your Account For 30 Minutes."})}),(0,n.jsxs)(i.xu,{p:"5",children:[(0,n.jsxs)(l.x,{fontWeight:"500",fontSize:"15",children:["⚡ ",(0,n.jsx)("b",{children:"Get priority at the top"})," of the matching queue."]}),(0,n.jsxs)(l.x,{fontWeight:"500",fontSize:"15",mt:"3",children:["⚡ Match with ",(0,n.jsx)("b",{children:"much higher quality"})," users."]}),(0,n.jsxs)(l.x,{fontWeight:"500",fontSize:"15",mt:"3",children:["⚡ ",(0,n.jsx)("b",{children:"Only match"})," with people in your preferences."]}),(0,n.jsxs)(l.x,{fontWeight:"500",fontSize:"15",mt:"3",children:["⚡ A ",(0,n.jsx)("b",{children:"dramatically"})," improved overall experience."]}),(0,n.jsxs)(s.z,{onClick:()=>{window.location="https://buy.stripe.com/6oE4gwgYn9t62bK28a"},mt:"5",colorScheme:"primary",bg:"linear-gradient(45deg, gold, #ff9d00)",w:"100%",icon:(0,n.jsx)(p.LkT,{fontSize:13}),borderRadius:"md",command:"$3.99",sx:{transition:"none",_hover:{bg:""}},children:["Buy 1 Boost"," ",(0,n.jsx)("span",{style:{opacity:.8,marginLeft:8},children:"$3.99"})]})]}),(0,n.jsx)(a.i,{my:"3"}),(0,n.jsx)(i.xu,{flexDirection:"column",flex:"1",display:"flex",alignItems:"center",justifyContent:"center",children:(0,n.jsx)(l.x,{opacity:"0.7",textAlign:"center",fontWeight:"500",fontSize:"13",children:"* Help Support the development of Thundr. Boosts are a one-time payment, not a subscription. They are strictly non-refundable, except in the rare case of non-delivery. Please note that using private browsers or VPNs may disrupt boost functionality. For more information, refer to our Terms of Service."})})]}),y=(0,o.forwardRef)((e,t)=>{let{isOpen:r,onOpen:i,onClose:l}=(0,c.q)();return(0,o.useImperativeHandle)(t,()=>({open:i,close:l})),(0,n.jsxs)(u.u_,{closeOnOverlayClick:!1,isCentered:!0,motionPreset:"slideInBottom",isOpen:r,onClose:l,children:[(0,n.jsx)(d.Z,{bg:"rgba(0,0,0,.8)",backdropFilter:"auto",backdropBlur:"21px",pointerEvents:"none"}),(0,n.jsxs)(x.h,{borderRadius:21,border:"solid 1px",borderColor:"whiteAlpha.200",children:[(0,n.jsx)(m.x,{textAlign:"center",children:"⚡ Buy A Boost"}),(0,n.jsx)(f.o,{}),(0,n.jsx)(h.f,{children:(0,n.jsx)(b,{})}),(0,n.jsx)(g.m,{flexDirection:"row",children:(0,n.jsx)(s.z,{size:"md",variant:"outline",colorScheme:"gray",onClick:l,border:"solid 1px black",fontWeight:"600",children:"Maybe Later"})})]})]})});t.default=y},3589:function(e,t,r){r.r(t);var n=r(5893),o=r(4225),i=r(8285);t.default=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.z,{as:"a",target:"_blank",href:"https://discord.com/invite/JZQ9Bc7Y4j",background:"#3f51b5",m:"1",children:[(0,n.jsx)(i.Wdm,{fontSize:21}),"\xa0Discord"]}),(0,n.jsxs)(o.z,{as:"a",target:"_blank",href:"https://www.reddit.com/r/thundr/",background:"#ff5722",m:"1",children:[(0,n.jsx)(i.Bqb,{fontSize:21}),"\xa0Reddit"]}),(0,n.jsxs)(o.z,{m:"1",as:"a",target:"_blank",background:"black",href:"https://www.tiktok.com/@usethundr",children:[(0,n.jsx)(i.rig,{fontSize:21}),"\xa0TikTok"]})]})},2684:function(e,t,r){r.r(t);var n=r(5893),o=r(7747),i=r(4e3),l=r(4225),s=r(9289),a=r(7169),c=r(7294);r(8186);var u=r(3434),d=r(1163),x=r(4295),m=r(4531),f=r(6069),h=r(550),g=r(1318),p=r(3589),b=r(8409);t.default=e=>{let t,{messageInputRef:r,messagesBoxRef:y,setTypingRef:j,disconnect:w,messagesRef:k,setMessagesRef:S,chatAlertsRef:v,disconnectedRef:z,setDisconnectedRef:C,partner:D,controlStateRef:E,currentControlStateRef:R,initialControlState:I,findRoom:N,user_id:B,channel:W,matchChannel:A,mode:T,initialAlerts:O}=e,_=(0,c.useRef)(),J=(0,d.useRouter)(),{getUser:L}=(0,h.a)(),{getSettings:F}=(0,g.r)(),H=(0,c.useRef)(),M=(0,c.useRef)(null),q=(0,c.useRef)();(0,c.useEffect)(()=>{Q(),K()},[]);let G=()=>{S.current([]),C.current(!1),_.current(!1),r.current.value=""},P=e=>{"Enter"!=e.key&&W.current.push("typing",{sender_id:B,typing:!0})},U=e=>{"Enter"!=e.key&&W.current.push("typing",{sender_id:B,typing:!1})},V=()=>{J.push("/video")},Y=()=>{J.push("/text")},K=(t=!1,()=>{t||(document.addEventListener("keydown",e=>{"Enter"===e.key&&($(),e.preventDefault())}),t=!0)}),$=()=>{if(!r.current)return;let e=r.current?r.current.value:"";e.length<1||(S.current(t=>[...t,{text:e,sender_id:B}]),r.current&&(r.current.value=""),Q(),W.current.push("message",{body:e,id:"".concat(Date.now().toString(36),"-").concat(Math.random().toString(36).substring(2)),sender_id:B}))},Z=()=>window.innerWidth<800,Q=()=>{Z()?r.current&&(r.current.blur(),r.current&&(r.current.value="")):r.current&&r.current.focus()},X=()=>{G(),N()},ee=e=>e.length>1?"".concat(e.slice(0,-1).join(", ")).concat(e.length>2?",":""," and ").concat(e[e.length-1],"."):"".concat(e[0],".")||0,et=()=>{var e;let t=L();return t.interests&&(null===(e=D.current)||void 0===e?void 0:e.interests)?t.interests.filter(e=>{var t;return null===(t=D.current)||void 0===t?void 0:t.interests.includes(e)}):[]},er=e=>{try{let t=e.toString().toUpperCase().split("").map(e=>127397+e.charCodeAt());return String.fromCodePoint(...t)}catch(e){}},en=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,{currentBoost:t}=(0,f.j)();if(t())return;let r="boostad",n=parseFloat(localStorage.getItem(r)),o=Date.now()/6e4;return isNaN(n)&&(localStorage.setItem(r,o.toString()),n=o),n<o-e},eo=()=>{if(en()){H.current.open();let e=Date.now()/6e4;localStorage.setItem("boostad",e.toString())}},ei=()=>{v.current([{text:"⏳ Loading, please wait..."}]),G()},el=()=>{v.current.set([]),q.current.setVisible(!0),G()},es=()=>{v.current.set([{text:"⏳ Looking for someone you can chat with..."}])},ea=()=>{G(),Q()},ec=()=>{var e,t,r;let n=[],o=null===(e=D.current)||void 0===e?void 0:e.age,i=null===(t=D.current)||void 0===t?void 0:t.country,l="?";switch(null===(r=D.current)||void 0===r?void 0:r.sex){case"m":l="M";break;case"f":l="F"}let s=" ".concat(er(i||"xx"));n.push({text:"⚡ You're now chatting to a random stranger! "});let{currentBoost:a}=(0,f.j)();a()?n.push({text:o+l+" from "+(i||"xx").toUpperCase()+s}):n.push({text:(i||"xx").toUpperCase()+s});let c=et();if(c.length>0){let e=ee(c);n.push({text:"❤️ You both like "+e})}v.current.set(n),G(),Q()},eu=c.memo(e=>{let[t,r]=(0,c.useState)(I);(0,c.useEffect)(()=>{j.current(null),R.current=t,E.current=r;let e={loading:ei,waiting:es,captcha:el,chatting:ec,error:ea};e[t]&&e[t]();let n=e=>{"Escape"===e.key&&i()},o=e=>{};return document.addEventListener("keydown",n),document.addEventListener("wheel",o),()=>{document.removeEventListener("keydown",n),document.removeEventListener("wheel",o),clearTimeout(M.current)}},[t]),(0,c.useEffect)(()=>{if("waiting"===t||"confirm"===t)return()=>{clearTimeout(M.current),clearInterval(M.current)}},[t]);let i=()=>{let e={error:()=>r("chatting"),waiting:()=>r("waiting"),start:async()=>{X()},chatting:()=>r("confirm"),confirm:async()=>{await w(),F().autoRoll.video&&"video"===T||F().autoRoll.text&&"text"===T?(G(),en()?(eo(),v.current.set([{text:"\uD83C\uDFC1 Press start to continue."}]),r("start")):(N(),r("waiting"))):(_.current(!0),r("start"))}};e[t]&&e[t]()},{label:l,disabled:s}={start:{label:"Start",disabled:!1},loading:{label:"Loading",disabled:!0},waiting:{label:"Waiting",disabled:!0},captcha:{label:"Waiting",disabled:!0},chatting:{label:"New",disabled:!1},error:{label:"Error",disabled:!1},confirm:{label:"Sure?",disabled:!1}}[t]||{label:"Start",disabled:!1};return(0,n.jsx)(o.xu,{onPointerDown:e=>{i(),e.preventDefault()},borderRadius:{base:"lg",md:"xl"},h:{base:"initial",md:"100px"},w:{base:"100px",md:"130px"},display:"flex",mr:e.mr||"3",ml:e.ml||"0",mt:e.mt||"0",mb:e.mb||"0",size:"lg",background:"primary.200",color:"black",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"1.125rem",cursor:s?"not-allowed":"pointer",userSelect:"none",lineHeight:1.2,children:(0,n.jsxs)(o.xu,{children:[(0,n.jsx)(o.xu,{fontWeight:"700",children:l}),(0,n.jsx)(o.xu,{display:{base:"none",md:"initial"},opacity:"0.5",fontWeight:"500",children:"Esc"}),(0,n.jsx)(o.xu,{display:{base:"none",md:"none"},opacity:"0.5",fontWeight:"500",children:"Swipe ↑"})]})})}),ed=c.memo(e=>{let{disabled:t,send:r}=e;return(0,n.jsx)(o.xu,{onClick:t?()=>{}:r,borderRadius:"xl",h:"100px",w:{base:"100px",md:"130px"},display:{base:"none",md:"initial"},p:"8",size:"lg",background:"primary.200",color:"black",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"1.125rem",cursor:t?"not-allowed":"pointer",userSelect:"none",opacity:t?.8:1,lineHeight:1.2,children:(0,n.jsxs)(o.xu,{children:[(0,n.jsx)(o.xu,{fontWeight:"700",children:"Send"}),(0,n.jsx)(o.xu,{opacity:"0.5",fontWeight:"500",children:"Enter"})]})})}),ex=c.memo(()=>{let[e,t]=(0,c.useState)(null);return(0,c.useEffect)(()=>{j.current=t},[e]),null!==e?(0,n.jsx)(o.xu,{transition:e?"":"opacity .5s ease",opacity:e?1:0,color:"gray.500",children:"Stranger is typing..."}):null});ex.displayName="TypingAnimation";let em=c.memo(()=>{let[e,t]=(0,c.useState)(!1),[r,a]=(0,c.useState)(!1);(0,c.useEffect)(()=>{z.current=e,C.current=t,_.current=a},[]),(0,c.useEffect)(()=>{y.current.scrollTo(0,y.current.scrollHeight)},[r,e]),(0,c.useEffect)(()=>{r&&eo()},[r]);let u=c.memo(()=>"text"===T?(0,n.jsx)(i.x,{onClick:V,cursor:"pointer",color:"primary.200",textDecoration:"underline",ml:"2",children:"turn on video"}):(0,n.jsx)(i.x,{onClick:Y,cursor:"pointer",color:"primary.200",textDecoration:"underline",ml:"2",children:"switch to text"}));return(0,n.jsxs)(o.xu,{children:[(0,n.jsx)(m.default,{ref:H}),e&&!r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.x,{children:"❌ Stranger has disconnected."}),(0,n.jsxs)(o.xu,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,n.jsx)(l.z,{onClick:X,mt:"2",size:"lg",colorScheme:"primary",children:"New Chat"}),(0,n.jsx)(i.x,{ml:"3",children:"or"}),(0,n.jsx)(u,{})]})]}):null,r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.x,{children:"❌ You have disconnected."}),(0,n.jsxs)(o.xu,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,n.jsx)(l.z,{onClick:X,mt:"2",size:"lg",colorScheme:"primary",children:"New Chat"}),(0,n.jsx)(i.x,{ml:"3",children:"or"}),(0,n.jsx)(u,{})]})]}):null,r||e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.i,{mt:"5"}),(0,n.jsx)(ef,{text:"⚡ Match with much higher quality users."}),(0,n.jsx)(o.xu,{display:"flex",flexDirection:"row",alignItems:"center",children:(0,n.jsxs)(l.z,{background:"linear-gradient(45deg, gold, #ff9d00);",onClick:()=>{H.current.open()},size:"lg",colorScheme:"primary",children:[(0,n.jsx)(x.LkT,{fontSize:13}),(0,n.jsx)(o.xu,{ml:"2",children:"Buy A Boost"}),(0,n.jsx)(o.xu,{ml:"5",opacity:"0.7",children:"$3.99"})]})}),(0,n.jsx)(s.i,{mt:"3"}),(0,n.jsx)(ef,{text:"\uD83D\uDCAC Join our socials."}),(0,n.jsx)(p.default,{})]}):null]})}),ef=c.memo(e=>{let{text:t,color:r,href:i}=e;return(0,n.jsx)(o.xu,{my:"1",color:r,onClick:i?()=>{window.open(i)}:()=>{},style:{textDecoration:i?"underline":"",cursor:i?"pointer":"inherit"},children:t})}),eh=c.memo(e=>{let{onShow:t}=e;return(0,n.jsxs)(o.xu,{my:"0",mr:5,fontStyle:"italic",children:["This message has been flagged as spam."," ",(0,n.jsx)("a",{onClick:t,style:{fontStyle:"normal",color:"#ffd900",textDecoration:"underline",cursor:"pointer"},children:"Show"})]})});eh.displayName="spam";let eg=c.memo(e=>{let{text:t,me:r,sender_id:i}=e,[l,s]=(0,c.useState)((()=>{let{link:e,bannedWord:r,bannedDomain:n}=(0,u.DD)(t);return e||r||n})());return l&&i!=B?(0,n.jsx)(eh,{onShow:()=>{s(!1)}}):(0,n.jsxs)(o.xu,{fontWeight:"500",my:"0",children:[(0,n.jsxs)("b",{style:{color:r?"":"#ffd900"},children:[r?"You":"Stranger",":"]})," ",t]})});eg.displayName="Message";let ep=c.memo((0,c.forwardRef)((e,t)=>{let{}=e,[r,o]=(0,c.useState)(!1);(0,c.useImperativeHandle)(t,()=>({setVisible:e=>o(e),isVisible:()=>r}));let i=async e=>{A.current&&(await A.current.push("captcha",{token:e}),N(),o(!1),E.current("waiting"))};return r?(0,n.jsx)(b.Z,{theme:"dark",sitekey:"aa4cc2c4-472e-42b6-b1ee-fadc0fc65af4",onVerify:async e=>{await i(e)}}):null})),eb=(0,c.forwardRef)((e,t)=>{let[r,o]=(0,c.useState)(e.initialAlerts||[]);return(0,c.useImperativeHandle)(t,()=>({set:o})),(0,n.jsx)(n.Fragment,{children:r.map((e,t)=>(0,n.jsx)(ef,{color:e.color,text:e.text},t))})}),ey=c.memo(e=>{let{mobile:t}=e,[r,i]=(0,c.useState)(0),[l,s]=(0,c.useState)([]);return(0,c.useEffect)(()=>{i(window.innerHeight)},[]),(0,c.useEffect)(()=>{k.current=l,S.current=s,y.current.scrollTo(0,y.current.scrollHeight)},[l]),(0,n.jsxs)(o.xu,{fontSize:{base:17,md:"18"},fontWeight:"600",overflowY:"auto",display:"flex",flexDirection:"column",width:"100%",justifyContent:{base:"flex-end",md:"flex-start"},minH:"video"==T?{base:"42px",md:"calc(100vh - 308px)"}:"initial",maxH:"video"==T?{base:"83px",md:"calc(100vh - 308px)"}:{base:"calc(".concat(r,"px - 212px)"),md:"calc(100vh - 308px)"},ref:y,children:[(0,n.jsx)(eb,{ref:v}),(null==R?void 0:R.current)!=="waiting"?l.map((e,t)=>(0,n.jsx)(eg,{text:e.text,me:e.sender_id==B,sender_id:e.sender_id},t),[]):null,(0,n.jsx)(ep,{ref:q}),(0,n.jsx)(em,{}),(0,n.jsx)(ex,{})," "]})}),ej=c.memo(()=>(0,n.jsxs)(o.xu,{flexDirection:"column",borderRadius:"xl",m:{base:"2",md:"3"},display:"flex",flex:"1",children:[(0,n.jsx)(o.xu,{display:"flex",flexGrow:"1",flexShrink:"0",bg:"gray.900",borderRadius:"xl",p:"3",px:{base:"2",md:"4"},overflowX:"hidden",alignItems:{base:"flex-end",md:"flex-start"},children:(0,n.jsx)(ey,{})}),(0,n.jsxs)(o.xu,{display:"flex",mt:{base:"2",md:"3"},flexGrow:"0",borderRadius:"xl",h:"100px",children:[(0,n.jsx)(eu,{mr:{base:"2",md:"3"}}),(0,n.jsx)(o.xu,{display:"flex",flexGrow:"1",flexShrink:"1",bg:"gray.900",borderRadius:"xl",mr:{base:"0",md:"3"},p:"2",children:(0,n.jsx)(a.g,{ref:r,onKeyDown:P,onKeyUp:U,placeholder:"Say something...",flexShrink:"1",fontSize:"18",display:"flex",flexGrow:"1",minW:"0",outline:"none",variant:"solid",bg:"transparent",resize:"none",border:"none",flex:"1"})}),(0,n.jsx)(ed,{send:$})]})]})),ew=c.memo(()=>(0,n.jsxs)(o.xu,{flexDirection:"column",borderTopLeftRadius:"0",borderTopRightRadius:"0",m:"0",display:"flex",flex:"1",position:"absolute",bottom:"0",left:"0",right:"0",borderRadius:"13",borderBottomLeftRadius:"0",borderBottomRightRadius:"0",children:[(0,n.jsx)(o.xu,{display:"flex",flexGrow:"1",flexShrink:"0",px:"5",mb:"1",overflowX:"hidden",alignItems:{base:"flex-start",md:"flex-start"},children:(0,n.jsx)(ey,{mobile:!0})}),(0,n.jsxs)(o.xu,{display:"flex",flexGrow:"0",h:"132px",children:[(0,n.jsx)(o.xu,{display:"flex",flexGrow:"1",flexShrink:"1",bg:"transparent",border:"solid 1px #ffffff21",borderRadius:"lg",m:"4",mr:"2",children:(0,n.jsx)(a.g,{ref:r,onKeyDown:P,onKeyUp:U,placeholder:"Say something...",flexShrink:"1",fontSize:"18",display:"flex",flexGrow:"1",minW:"0",outline:"none",variant:"solid",background:"transparent",resize:"none",border:"none",flex:"1"})}),(0,n.jsx)(eu,{ml:"0",mt:"4",mb:"4",mr:"4"})]})]}));return"text"===T?(0,n.jsx)(ej,{}):window.innerWidth<800?(0,n.jsx)(ew,{}):(0,n.jsx)(ej,{})}}}]);